<div class="main">
  <div class="header">
    <p>
      Chess Results Stats provides you free analysis of your games if you play
      on Chess.com <br />
      You can access the results of any players, you or top players<br />
      You just need to enter an username
    </p>
  </div>

  <div id="form">
    <form (ngSubmit)="getDataFromApi()">
      <label for="username">Enter your username :</label>
      <input
        type="text"
        id="username"
        name="username"
        [(ngModel)]="username"
        required
      />
      <button type="submit">
        <span *ngIf="!isLoading">Get Data</span>
        <img
          *ngIf="isLoading"
          src="assets/waitingLogo.gif"
          alt="Chargement..."
          id="loadingImg"
        />
      </button>
    </form>
    <h2>Number of your games : {{ getNumberOfGames() }}</h2>
  </div>

  <div class="view-selector">
    <button
      type="button"
      (click)="switchView('bullet')"
      [class.active]="currentView === 'bullet'"
    >
      Bullet
    </button>
    <button
      type="button"
      (click)="switchView('blitz')"
      [class.active]="currentView === 'blitz'"
    >
      Blitz
    </button>
    <button
      type="button"
      (click)="switchView('rapid')"
      [class.active]="currentView === 'rapid'"
    >
      Rapid
    </button>
  </div>

  <div class="charts-container">
    <div [class.hidden]="currentView !== 'bullet'" class="bullet">
      <h2>Games Bullet (1, 1+1, 2+1)</h2>
      <div class="bullet">
        <h3>Elo</h3>
        <canvas id="eloBulletChart"></canvas>
        <h3>Accuracy</h3>
        <canvas id="accuracyBulletChart"></canvas>
      </div>
    </div>

    <div [class.hidden]="currentView !== 'blitz'" class="blitz">
      <h2>Games Blitz (3, 3+2, 5)</h2>
      <div class="blitz">
        <h3>Elo</h3>
        <canvas id="eloBlitzChart"></canvas>
        <h3>Accuracy</h3>
        <canvas id="accuracyBlitzChart"></canvas>
      </div>
    </div>

    <div [class.hidden]="currentView !== 'rapid'" class="rapid">
      <h2>Games Rapid (10)</h2>
      <div class="rapid">
        <h3>Elo</h3>
        <canvas id="eloRapidChart"></canvas>
        <h3>Accuracy</h3>
        <canvas id="accuracyRapidChart"></canvas>
      </div>
    </div>
  </div>

  <canvas id="openingsAccuracyChart" width="400" height="200"></canvas>
</div>
